@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix v-s: <http://semantic-machines.com/veda/veda-schema/> .
@prefix v-ui: <http://semantic-machines.com/veda/veda-ui/> .
@prefix v-fc: <http://semantic-machines.com/veda/veda-function-create/> .
@prefix v-fs: <http://semantic-machines.com/veda/veda-function-search/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://semantic-machines.com/veda/veda-function-links>
  rdf:type owl:Ontology ;
  rdfs:label "Онтология функции связей"@ru ;
  rdfs:label "LInks function ontology"@en ;
  v-s:loadPriority 9 ;
.
### ------------------------------------------------------
v-s:LinksTreeBundle
  rdf:type v-s:Bundle ;
  rdfs:label "Дерево"@ru ;
  rdfs:label "Tree"@en ;
.
v-s:LinksListBundle
  rdf:type v-s:Bundle ;
  rdfs:label "Список"@ru ;
  rdfs:label "List"@en ;
.
v-s:LinksGraphBundle
  rdf:type v-s:Bundle ;
  rdfs:label "Граф"@ru ;
  rdfs:label "Graph"@en ;
.
### ------------------------------------------------------
v-s:Link
  rdf:type owl:Class ;
  rdfs:subClassOf v-s:UserThing ;
  rdfs:subClassOf v-s:Exportable ;
  rdfs:label "Связь"@ru ;
  rdfs:label "Link"@en ;
.
v-s:from
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-s:Link ;
  rdfs:label "Источник"@ru ;
  rdfs:label "Source"@en ;
  rdfs:range v-s:Thing ;
.
v-s:to
  rdf:type owl:ObjectProperty ;
  rdfs:domain v-s:Link ;
  rdfs:label "Цель"@ru ;
  rdfs:label "Target"@en ;
  rdfs:range v-s:Thing ;
.
v-s:mutualMembership
  rdf:type owl:DatatypeProperty ;
  rdfs:domain v-s:Link ;
  rdfs:label "Обоюдные права"@ru ;
  rdfs:label "Mutual rights"@en ;
  rdfs:range xsd:boolean ;
.

# ---------------- Class links tree -----------------

v-s:LinksTree
  rdf:type owl:Class ;
  rdfs:label "Настройки ссылок для класса"@ru ;
  rdfs:label "Class links setting"@en ;
  rdfs:comment "Дерево документов"@ru ;
  rdfs:comment "Documents tree"@en ;
.

v-s:hasLinksTree
  rdf:type owl:ObjectProperty ;
  rdfs:label "Дерево ссылок для класса"@ru ;
  rdfs:label "Class links tree"@en ;
  rdfs:domain rdfs:Class ;
  rdfs:range v-s:LinksTree ;
.

v-s:hasRoot
  rdf:type owl:ObjectProperty ;
  rdfs:label "Корень"@ru ;
  rdfs:label "Root"@en ;
  rdfs:domain v-s:LinksTree ;
  rdfs:range rdfs:Resource ;
.

v-s:inProperty
  rdf:type owl:ObjectProperty ;
  rdfs:label "Входящие свойства"@ru ;
  rdfs:label "In properties"@en ;
  rdfs:domain v-s:LinksTree ;
  rdfs:range rdf:Property ;
.

v-s:outProperty
  rdf:type owl:ObjectProperty ;
  rdfs:label "Исходящие свойства"@ru ;
  rdfs:label "Out properties"@en ;
  rdfs:domain v-s:LinksTree ;
  rdfs:range rdf:Property ;
.

v-s:allowedType
  rdf:type owl:ObjectProperty ;
  rdfs:label "Исходящие свойства"@ru ;
  rdfs:label "Out properties"@en ;
  rdfs:domain v-s:LinksTree ;
  rdfs:range rdfs:Class ;
.

# ---------------- Link template -----------------
v-s:TS_Link 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate "v-s_LinkTemplate.html";
  v-ui:forClass v-s:Link
.
v-s:TS_LinksTree 
  rdf:type v-ui:TemplateSpecification;
  v-s:loadPriority "15"^^xsd:integer;
  v-ui:defaultTemplate "v-s_StandaloneLinksTreeTemplate.html";
  v-ui:forClass v-s:LinksTree
.

v-s:PSHasLinkThing
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация свойства v-s:hasLink для класса v-s:Thing"@ru ;
  rdfs:label "Specification v-s:hasLink for v-s:Thing class"@en ;
  v-ui:forClass v-s:Thing ;
  v-ui:forProperty v-s:hasLink ;
  v-ui:minCardinality 0 ;
  v-ui:maxCardinality 100 ;
.
v-s:PSFromToForLink
  rdf:type v-ui:ObjectPropertySpecification ;
  rdfs:label "Спецификация свойств from to для класса v-s:Link"@ru ;
  rdfs:label "Specification from to for v-s:Link class"@en ;
  v-ui:forClass v-s:Link ;
  v-ui:forProperty v-s:from, v-s:to ;
  v-ui:minCardinality 1 ;
  v-ui:maxCardinality 1 ;
  v-ui:queryPrefix "('rdf:type'=='v-s:Document')"^^xsd:string ;
.
v-s:AddLink
  rdf:type v-s:Bundle ;
  rdfs:label "Добавить"@ru ;
  rdfs:label "Add"@en ;
.
# ======================== TEST ========================

# v-s:TestDocTree
#  rdf:type v-s:LinksTree ;
#  v-s:hasRoot ... ;
#  v-s:hasRoot ... ;
# .
